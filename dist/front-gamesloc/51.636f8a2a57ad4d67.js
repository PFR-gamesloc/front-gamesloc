"use strict";(self.webpackChunkfront_gamesloc=self.webpackChunkfront_gamesloc||[]).push([[51],{623:(O,P,a)=>{a.d(P,{v:()=>d});var o=a(9547),s=a(4336),_=a(5879),f=a(9862),e=a(589);let d=(()=>{var l;class p{constructor(i,m){this.httpClient=i,this.getService=m,this.baseUrl=o.d.production?o.d.baseUrl:s.O.baseUrl}addToFavorites(i){return this.httpClient.post(`${this.baseUrl}/customer/me/favs/add`,i)}removeToFavorites(i){return this.httpClient.post(`${this.baseUrl}/customer/me/favs/remove`,i)}modifyCustomer(i){return this.httpClient.put(`${this.baseUrl}/customer/edit`,i)}modifyAddressCustomer(i){return this.httpClient.put(`${this.baseUrl}/customer/edit/address`,i)}postAComment(i){return this.httpClient.post(this.baseUrl+"/customer/comment/add",i)}getOrders(){return this.getService.getData("/customer/me/orders")}getCities(i){return this.getService.getData("/customer/cities/"+i)}}return(l=p).\u0275fac=function(i){return new(i||l)(_.LFG(f.eN),_.LFG(e.t))},l.\u0275prov=_.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),p})()},9034:(O,P,a)=>{a.d(P,{h:()=>d});var o=a(9547),s=a(4336),_=a(5879),f=a(9862),e=a(589);let d=(()=>{var l;class p{constructor(i,m){this.httpClient=i,this.getService=m,this.selectedGameIdKey="selectedGameId",this.baseUrl=o.d.production?o.d.baseUrl:s.O.baseUrl}getGames(){return this.getService.getData(this.baseUrl+"/product/games")}getGameById(i){return this.getService.getData(`/product/game/${i}`)}setSelectedGameId(i){localStorage.setItem(this.selectedGameIdKey,i.toString())}getSelectedGameId(){const i=localStorage.getItem(this.selectedGameIdKey);return i?parseInt(i):void 0}}return(l=p).\u0275fac=function(i){return new(i||l)(_.LFG(f.eN),_.LFG(e.t))},l.\u0275prov=_.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),p})()},721:(O,P,a)=>{a.d(P,{V:()=>l});var o=a(8645),s=a(5619),_=a(9547),f=a(4336),e=a(5879),d=a(9862);let l=(()=>{var p;class h{constructor(m){this.httpClient=m,this.cartItemsSubject=new o.x,this.totalPrice=new s.X(0),this.baseUrl=_.d.production?_.d.baseUrl:f.O.baseUrl}getCartItemsObservable(){return this.cartItemsSubject.asObservable()}emitCartItemsUpdate(){this.updatePrice(),this.cartItemsSubject.next(this.getItems())}addItem(m){const u=this.getItems();return u.some(x=>x.gameId===m.gameId)?{success:!1,message:"Le jeu existe d\xe9j\xe0 dans le panier. Ajout annul\xe9."}:(u.push(m),localStorage.setItem("articles",JSON.stringify(u)),this.emitCartItemsUpdate(),{success:!0,message:"Le jeu a bien \xe9t\xe9 ajouter au panier !"})}getItems(){const m=localStorage.getItem("articles");return m?JSON.parse(m):[]}clearItems(){localStorage.removeItem("articles")}removeItem(m){const u=this.getItems().filter(x=>x.gameId!==m.gameId);localStorage.setItem("articles",JSON.stringify(u)),this.emitCartItemsUpdate()}validateCart(m){return this.httpClient.post(`${this.baseUrl}/customer/me/create-order`,m)}updatePrice(){if(0===this.getItems().length)this.totalPrice.next(0);else{let m=0;for(const u of this.getItems())m+=u.gamePrice;this.totalPrice.next(m)}}}return(p=h).\u0275fac=function(m){return new(m||p)(e.LFG(d.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),h})()},5631:(O,P,a)=>{a.d(P,{J:()=>e});var o=a(9862),s=a(9547),_=a(4336),f=a(5879);let e=(()=>{var d;class l{constructor(h){this.http=h,this.baseUrl=s.d.production?s.d.baseUrl:_.O.baseUrl}upload(h){const i=new FormData;i.append("file",h);const m=new o.aW("POST",`${this.baseUrl}/admin/game/upload`,i,{reportProgress:!0,responseType:"json"});return this.http.request(m)}getFile(h){return this.http.get(`${this.baseUrl}/product/img/${h}`,{responseType:"blob"})}}return(d=l).\u0275fac=function(h){return new(h||d)(f.LFG(o.eN))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),l})()},8051:(O,P,a)=>{a.d(P,{p:()=>V});var o=a(6814);const s=void 0,f=["fr",[["AM","PM"],s,s],s,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],s,[["av. J.-C.","ap. J.-C."],s,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",s],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[s,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[s,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[s,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[s,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[s,"\xa5"],KMF:[s,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[s,"$C"],NZD:["$NZ","$"],PHP:[s,"\u20b1"],RHD:["$RH"],RON:[s,"L"],RWF:[s,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[s,"$T"],TTD:["$TT","$"],TWD:[s,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[s,"$"],XPF:["FCFP"],ZMW:[s,"Kw"]},"ltr",function _(n){const r=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length,c=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===r||1===r?1:0===c&&0!==r&&r%1e6==0&&0===t||!(c>=0&&c<=5)?4:5}];var e=a(5879),d=a(9034),l=a(623),p=a(1896),h=a(721),i=a(589),m=a(304),u=a(9229),x=a(5631),v=a(1538),I=a(8726),b=a(6843);function E(n,g){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"ngb-rating",9),e.NdJ("rateChange",function(c){e.CHM(r);const C=e.oxw().$implicit;return e.KtG(C.rating=c)}),e.qZA()(),e.BQk()}if(2&n){const r=e.oxw().$implicit;e.xp6(2),e.Q6J("max",5)("rate",r.rating)("readonly",!0)}}function U(n,g){if(1&n&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",4),e._uU(3),e.YNc(4,E,3,3,"ng-container",5),e.TgZ(5,"div")(6,"div",6),e._uU(7),e.ALo(8,"date"),e.qZA()()(),e.TgZ(9,"div",7),e._uU(10),e.qZA()(),e.BQk()),2&n){const r=g.$implicit;e.xp6(3),e.hij("",r.customer.firstName+" "+r.customer.lastName," "),e.xp6(1),e.Q6J("ngIf",null!==r.rating),e.xp6(3),e.hij("D\xe9pos\xe9 le ",e.xi3(8,4,r.publishDate,"dd/MM/yyyy"),""),e.xp6(3),e.hij(" ",r.comment," ")}}function A(n,g){if(1&n&&(e.ynx(0),e.YNc(1,U,11,7,"ng-container",2),e.BQk()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.commentaries)}}function Z(n,g){1&n&&(e.TgZ(0,"h2"),e._uU(1,"Aucun commentaires pour le moment !"),e.qZA())}let S=(()=>{var n;class g{}return(n=g).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-commentary"]],inputs:{commentaries:"commentaries",gameId:"gameId"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noCommentaries",""],[4,"ngFor","ngForOf"],[1,"commentary"],[1,"nameCommentary"],[4,"ngIf"],[1,"ratingDate"],[1,"contentCommentary"],[1,"rating"],[3,"max","rate","readonly","rateChange"]],template:function(t,c){if(1&t&&(e.YNc(0,A,2,1,"ng-container",0),e.YNc(1,Z,2,0,"ng-template",null,1,e.W1O)),2&t){const C=e.MAs(2);e.Q6J("ngIf",c.commentaries.length>0)("ngIfElse",C)}},dependencies:[o.sg,o.O5,I.OC,o.uU],styles:[".commentary[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2rem;padding:1rem 0rem 1rem 1rem;gap:10px;box-shadow:0 16px 50px 5px #0000001a}.commentary[_ngcontent-%COMP%]   .nameCommentary[_ngcontent-%COMP%]{color:var(--blue-primary);font-family:var(--font-rosario);font-size:1.2rem;padding-bottom:5px}.commentary[_ngcontent-%COMP%]   ngb-rating[_ngcontent-%COMP%]{color:#ffc107;font-size:30px}.commentary[_ngcontent-%COMP%]   .ratingCommentary[_ngcontent-%COMP%]{display:flex;flex-direction:row}.commentary[_ngcontent-%COMP%]   .ratingCommentary[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{padding-right:10px}.commentary[_ngcontent-%COMP%]   .ratingCommentary[_ngcontent-%COMP%]   .notice[_ngcontent-%COMP%]{padding-left:5px}.commentary[_ngcontent-%COMP%]   .ratingCommentary[_ngcontent-%COMP%]   .ratingDate[_ngcontent-%COMP%]{color:red}.commentary[_ngcontent-%COMP%]   .contentCommentary[_ngcontent-%COMP%]{font-family:var(--font-raleway)}"]}),g})();var M=a(6223),D=a(9110);let F=(()=>{var n;class g{constructor(t,c,C){this.customerService=t,this.toastr=c,this.router=C}ngOnInit(){this.commentaryForm=new M.cw({comment:new M.NI(""),rating:new M.NI("")})}PostComment(){const t={gameId:this.gameId,comment:this.commentaryForm.get("comment")?.value,rating:this.commentaryForm.get("rating")?.value};this.customerService.postAComment(t).subscribe({next:()=>{this.toastr.success("Commentaire Post\xe9 !"),this.router.navigate(["/"])},error:()=>this.toastr.error("Le commentaire n'a pas pu \xeatre post\xe9")})}}return(n=g).\u0275fac=function(t){return new(t||n)(e.Y36(l.v),e.Y36(u._W),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-commentary-form"]],inputs:{gameId:"gameId"},decls:7,vars:3,consts:[[3,"formGroup","ngSubmit"],["formControlName","rating",3,"max","readonly"],["textLabel","Votre commentaire","forInput","comment","placeholderInput","Super jeu !","typeInput","textArea"],["textBtn","Comment\xe9 !","classBtn","btn-connexionPage"]],template:function(t,c){1&t&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"Laissez-nous votre avis !"),e.qZA(),e.TgZ(3,"form",0),e.NdJ("ngSubmit",function(){return c.PostComment()}),e._UZ(4,"ngb-rating",1)(5,"app-input",2)(6,"app-btn-component",3),e.qZA(),e.BQk()),2&t&&(e.xp6(3),e.Q6J("formGroup",c.commentaryForm),e.xp6(1),e.Q6J("max",5)("readonly",!1))},dependencies:[D.a,v.H,I.OC,M._Y,M.JJ,M.JL,M.sg,M.u],styles:["ngb-rating[_ngcontent-%COMP%]{color:#ffc107;font-size:30px}"]}),g})();function N(n,g){if(1&n&&(e.TgZ(0,"div",27)(1,"a",28),e._UZ(2,"ng-icon",29),e.qZA(),e.TgZ(3,"h1",30),e._uU(4),e.qZA()()),2&n){const r=e.oxw(2);e.xp6(4),e.Oqu(r.game.gameName)}}function L(n,g){if(1&n&&(e.TgZ(0,"h1",31),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.Oqu(r.game.gameName)}}function B(n,g){if(1&n){const r=e.EpF();e.TgZ(0,"ng-icon",34),e.NdJ("click",function(){e.CHM(r);const c=e.oxw(3);return e.KtG(c.addToFavorites(c.game))}),e.qZA()}}function J(n,g){if(1&n){const r=e.EpF();e.TgZ(0,"ng-icon",35),e.NdJ("click",function(){e.CHM(r);const c=e.oxw(3);return e.KtG(c.removeToFavorites(c.game))}),e.qZA()}}function $(n,g){if(1&n&&(e.ynx(0),e.YNc(1,B,1,0,"ng-icon",32),e.YNc(2,J,1,0,"ng-icon",33),e.BQk()),2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!r.isGameLiked),e.xp6(1),e.Q6J("ngIf",r.isGameLiked)}}function j(n,g){1&n&&(e.TgZ(0,"span"),e._uU(1,"Connectez vous pour lik\xe9 ce jeu !"),e.qZA())}const R=function(n,g,r){return{"in-stock":n,"low-stock":g,"out-of-stock":r}};function k(n,g){if(1&n&&(e.ynx(0,36),e.TgZ(1,"p",15),e._uU(2," Stock : "),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.BQk()),2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.kEZ(2,R,r.game.stock>20,r.game.stock<=20,r.game.stock<=10)),e.xp6(3),e.hij(" ",r.game.stock,"")}}function Y(n,g){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const r=g.$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function G(n,g){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const r=g.$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function Q(n,g){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const r=g.$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function W(n,g){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"Connectez vous pour donner votre avis !"),e.qZA(),e.BQk())}function w(n,g){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"Commandez ce jeu pour donner votre avis !"),e.qZA(),e.BQk())}function K(n,g){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"Vous avez d\xe9j\xe0 donner votre opinion sur ce Jeu"),e.qZA(),e.BQk())}function z(n,g){if(1&n&&(e.ynx(0),e._UZ(1,"app-commentary-form",37),e.BQk()),2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("gameId",r.game.gameId)}}const H=function(n){return[n,"EUR","symbol","2.2-2","fr"]};function q(n,g){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,N,5,1,"div",2),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"div",5),e.YNc(6,L,2,1,"h1",6),e.YNc(7,$,3,2,"ng-container",7),e.YNc(8,j,2,0,"ng-template",null,8,e.W1O),e.TgZ(10,"span",9),e._uU(11),e.ALo(12,"currency"),e.qZA(),e.YNc(13,k,5,6,"ng-container",10),e.TgZ(14,"span",11)(15,"ngb-rating",12),e.NdJ("rateChange",function(c){e.CHM(r);const C=e.oxw();return e.KtG(C.rating=c)}),e.qZA(),e.TgZ(16,"span",13),e._uU(17),e.qZA()(),e.TgZ(18,"app-btn-component",14),e.NdJ("click",function(){e.CHM(r);const c=e.oxw();return e.KtG(c.addToCart())}),e.qZA()()(),e.TgZ(19,"h2"),e._uU(20,"Description"),e.qZA(),e.TgZ(21,"p",15),e._uU(22),e.qZA(),e.TgZ(23,"span",16)(24,"a",17),e.NdJ("click",function(){e.CHM(r);const c=e.oxw();return e.KtG(c.more())}),e._uU(25,"Voir plus..."),e.qZA()(),e.TgZ(26,"h2"),e._uU(27,"Caract\xe9ristiques"),e.qZA(),e.TgZ(28,"div",18)(29,"table",19)(30,"tr")(31,"th",20),e._uU(32,"D\xe9tails du jeu"),e.qZA()(),e.TgZ(33,"tr")(34,"td",21)(35,"p",22),e._uU(36,"Age (\xe0 partir de) :"),e.qZA(),e.TgZ(37,"p",23),e._uU(38),e.qZA(),e.TgZ(39,"p",22),e._uU(40),e.qZA(),e.TgZ(41,"p",23),e._uU(42),e.qZA(),e.TgZ(43,"p",22),e._uU(44,"\xc9diteur :"),e.qZA(),e.TgZ(45,"p",23),e._uU(46),e.qZA()(),e.TgZ(47,"td",24)(48,"p",22),e._uU(49,"Type :"),e.qZA(),e.TgZ(50,"p",23),e._uU(51),e.qZA(),e.TgZ(52,"p",22),e._uU(53),e.qZA(),e.TgZ(54,"p",23),e.YNc(55,Y,2,1,"span",25),e.qZA(),e.TgZ(56,"p",22),e._uU(57),e.qZA(),e.TgZ(58,"p",23),e.YNc(59,G,2,1,"span",25),e.qZA(),e.TgZ(60,"p",22),e._uU(61),e.qZA(),e.TgZ(62,"p",23),e.YNc(63,Q,2,1,"span",25),e.qZA()()()()(),e.TgZ(64,"h2"),e._uU(65,"Commentaires"),e.qZA(),e.YNc(66,W,3,0,"ng-container",0),e.YNc(67,w,3,0,"ng-container",0),e.YNc(68,K,3,0,"ng-container",0),e.YNc(69,z,2,1,"ng-container",0),e._UZ(70,"app-commentary",26),e.qZA(),e.BQk()}if(2&n){const r=e.MAs(9),t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.currentWindowWidth<768),e.xp6(2),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.Q6J("ngIf",t.currentWindowWidth>768),e.xp6(1),e.Q6J("ngIf",t.isConnected())("ngIfElse",r),e.xp6(4),e.Oqu(e.G7q(12,30,e.VKq(36,H,t.game.gamePrice))),e.xp6(2),e.Q6J("ngIf",t.game.stock),e.xp6(2),e.Q6J("max",5)("rate",t.rating)("readonly",!0),e.xp6(2),e.hij("(",t.nbRating," avis)"),e.xp6(4),e.Q6J("ngClass",t.input?"clamp":"text"),e.xp6(1),e.hij(" ",t.game.gameDescr," "),e.xp6(16),e.hij("",t.game.minAge," ans"),e.xp6(2),e.hij(" ",t.game.minPlayer?t.game.minPlayer>1?"Nombre de joueurs":"Nombre de joueur":"Nombre de joueur non sp\xe9cifi\xe9"," "),e.xp6(2),e.AsE(" ",t.game.minPlayer," \xe0 ",t.game.maxPlayer," "),e.xp6(4),e.hij(" ",t.game.editor.name," "),e.xp6(5),e.Oqu(t.game.type.name),e.xp6(2),e.hij(" ",t.game.languages?t.game.languages.length>1?"Langues":"Langue":""," : "),e.xp6(2),e.Q6J("ngForOf",t.game.languages),e.xp6(2),e.hij(" ",t.game.tags?t.game.tags.length>1?"Cat\xe9gories":"Cat\xe9gorie":""," : "),e.xp6(2),e.Q6J("ngForOf",t.game.languages),e.xp6(2),e.hij(" ",t.game.tags?t.game.tags.length>1?"Cat\xe9gories":"Cat\xe9gorie":""," : "),e.xp6(2),e.Q6J("ngForOf",t.game.tags),e.xp6(3),e.Q6J("ngIf",!t.isConnected()),e.xp6(1),e.Q6J("ngIf",!t.checkIfOrdered()&&t.isConnected()),e.xp6(1),e.Q6J("ngIf",t.checkIfOrdered()&&t.checkAlreadyCommented()&&t.isConnected()),e.xp6(1),e.Q6J("ngIf",t.checkIfOrdered()&&!t.checkAlreadyCommented()&&t.isConnected()),e.xp6(1),e.Q6J("commentaries",t.commentaries)}}(0,o.qS)(f,"fr");let V=(()=>{var n;class g{constructor(t,c,C,y,T,X,ee,te,ne){this.gameService=t,this.customerService=c,this.route=C,this.router=y,this.cartService=T,this.getService=X,this.authService=ee,this.toastrService=te,this.fileService=ne,this.input=!0,this.commentaries=[],this.orders=[],this.isGameLiked=!1,this.errorMessage="",this.rating=0,this.nbRating=0,this.image=""}ngOnInit(){this.authService.isAuth.value&&this.customerService.getOrders().subscribe({next:c=>{this.orders=c}}),this.getService.getData("/product/"+this.gameService.getSelectedGameId()+"/comments").subscribe({next:c=>{this.commentaries=c,this.setRating()}});const t=this.gameService.getSelectedGameId();this.currentWindowWidth=window.innerWidth,t&&this.gameService.getGameById(t).subscribe({next:c=>{this.game=c,this.fileService.getFile(this.game.image).subscribe({next:C=>this.image=URL.createObjectURL(C)}),this.getService.getData(`/product/game/${t}`).subscribe({next:C=>{this.game=C,this.authService.isAuth.value&&this.getService.getData("/customer/me/favs").subscribe({next:y=>{this.isGameLiked=y.some(T=>T.gameId===t)}})}})}})}onResize(){this.currentWindowWidth=window.innerWidth}more(){this.input=!this.input}addToCart(){const t=this.cartService.addItem(this.game);t.success?(this.toastrService.success(t.message),this.router.navigate(["/"])):this.toastrService.error(t.message)}addToFavorites(t){this.isGameLiked=!0,this.customerService.addToFavorites({id:t.gameId}).subscribe({next:()=>this.toastrService.success("Le jeu \xe0 \xe9t\xe9 ajouter avec succ\xe8s"),error:()=>this.toastrService.error("erreur lors de l'ajout au favoris")})}removeToFavorites(t){this.isGameLiked=!1,this.customerService.removeToFavorites({id:t.gameId}).subscribe({next:()=>this.toastrService.success("Le jeu \xe0 \xe9t\xe9 supprim\xe9 de vos favoris avec succ\xe8s"),error:()=>this.toastrService.error("erreur lors de la suppression")})}checkAlreadyCommented(){if(!this.authService.isAuth.value)return!1;for(const t of this.commentaries)if(t.customer.email===sessionStorage.getItem("subject")||t.customer.email===localStorage.getItem("subject"))return!0;return!1}checkIfOrdered(){for(const t of this.orders)for(const c of t.games)if(c.gameId==this.game.gameId)return!0;return!1}setRating(){let t=0,c=0;for(const C of this.commentaries)null!==C.rating&&(t+=C.rating,c++);this.rating=t/c,this.nbRating=c}isConnected(){return this.authService.isAuth.value}}return(n=g).\u0275fac=function(t){return new(t||n)(e.Y36(d.h),e.Y36(l.v),e.Y36(p.gz),e.Y36(p.F0),e.Y36(h.V),e.Y36(i.t),e.Y36(m.e),e.Y36(u._W),e.Y36(x.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-page"]],hostBindings:function(t,c){1&t&&e.NdJ("resize",function(){return c.onResize()},!1,e.Jf7)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"container-product"],["class","head-mobile",4,"ngIf"],[1,"product-flex"],["alt","exemple d'un jeu de soci\xe9t\xe9",3,"src"],[1,"detail-product"],["title","title-product",4,"ngIf"],[4,"ngIf","ngIfElse"],["isNotAuthenticated",""],[1,"price"],["class","stock",4,"ngIf"],[1,"notice"],[3,"max","rate","readonly","rateChange"],[1,"total-notice"],["classBtn","btn btn-add","textBtn","Ajouter au panier",3,"click"],[3,"ngClass"],[1,"more"],[3,"click"],[1,"game-details-container"],[1,"game-details-table"],["colspan","2",1,"game-details-header"],[1,"game-details-left"],[1,"game-details-label"],[1,"game-details-content"],[1,"game-details-right"],[4,"ngFor","ngForOf"],[3,"commentaries"],[1,"head-mobile"],["routerLink","",1,"head-icon"],["size","20","name","bootstrapArrowReturnLeft"],[1,"title-product"],["title","title-product"],["size","25","name","bootstrapHeartFill",3,"click",4,"ngIf"],["size","25","color","#FF0000","name","bootstrapHeartFill",3,"click",4,"ngIf"],["size","25","name","bootstrapHeartFill",3,"click"],["size","25","color","#FF0000","name","bootstrapHeartFill",3,"click"],[1,"stock"],[3,"gameId"]],template:function(t,c){1&t&&e.YNc(0,q,71,38,"ng-container",0),2&t&&e.Q6J("ngIf",c.game)},dependencies:[o.mk,o.sg,o.O5,p.rH,v.H,I.OC,b.Fv,S,F,o.H9],styles:[".container-product[_ngcontent-%COMP%]{margin:auto;max-width:80%;display:flex;flex-direction:column;text-align:center}.container-product[_ngcontent-%COMP%]   .head-mobile[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem}.container-product[_ngcontent-%COMP%]   .head-mobile[_ngcontent-%COMP%]   .head-icon[_ngcontent-%COMP%]{margin-right:1rem}.container-product[_ngcontent-%COMP%]   .head-mobile[_ngcontent-%COMP%]   .title-product[_ngcontent-%COMP%]{text-align:center;flex:1;position:absolute;left:50%;transform:translate(-50%);font-size:1.8rem;color:var(--blue-primary);font-weight:700}.container-product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.container-product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}}.container-product[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--blue-primary);border-bottom:2px solid var(--blue-primary);font-size:1.5rem;margin:2rem 0;font-weight:700}.container-product[_ngcontent-%COMP%]   .product-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin-top:1rem}@media (min-width: 768px){.container-product[_ngcontent-%COMP%]   .product-flex[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around;align-items:normal}}.container-product[_ngcontent-%COMP%]   .product-flex[_ngcontent-%COMP%]   .notice[_ngcontent-%COMP%]{display:flex;align-items:center}.container-product[_ngcontent-%COMP%]   .product-flex[_ngcontent-%COMP%]   .notice[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]{font-size:1.5rem}.container-product[_ngcontent-%COMP%]   .product-flex[_ngcontent-%COMP%]   .notice[_ngcontent-%COMP%]   .total-notice[_ngcontent-%COMP%]{font-size:1rem;margin-left:.5rem}.container-product[_ngcontent-%COMP%]   .detail-product[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;gap:1rem}@media (min-width: 768px){.container-product[_ngcontent-%COMP%]   .detail-product[_ngcontent-%COMP%]{justify-content:space-around}}.container-product[_ngcontent-%COMP%]   .detail-product[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--blue-primary);font-weight:700}.container-product[_ngcontent-%COMP%]   .detail-product[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:var(--blue-primary);font-size:1.4rem}.container-product[_ngcontent-%COMP%]   .game-details-container[_ngcontent-%COMP%]{margin:1rem}.container-product[_ngcontent-%COMP%]   .game-details-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid var(--blue-secondary)}.container-product[_ngcontent-%COMP%]   .game-details-header[_ngcontent-%COMP%]{background-color:var(--blue-primary);color:#fff;padding:10px;text-align:center}.container-product[_ngcontent-%COMP%]   .game-details-left[_ngcontent-%COMP%], .container-product[_ngcontent-%COMP%]   .game-details-right[_ngcontent-%COMP%]{padding:15px;border:1px solid var(--blue-secondary);display:flex;flex-direction:column;align-items:center;text-align:center;background-color:var(--whitegray);box-shadow:0 2px 4px #0000001a}@media (min-width: 768px){.container-product[_ngcontent-%COMP%]   .game-details-left[_ngcontent-%COMP%], .container-product[_ngcontent-%COMP%]   .game-details-right[_ngcontent-%COMP%]{width:47%;display:revert}}.container-product[_ngcontent-%COMP%]   .game-details-label[_ngcontent-%COMP%]{font-weight:700;padding:4px;color:var(--blue-primary)}.container-product[_ngcontent-%COMP%]   .game-details-content[_ngcontent-%COMP%]{padding:5px;color:var(--blue-secondary)}.in-stock[_ngcontent-%COMP%]{color:green}.low-stock[_ngcontent-%COMP%]{color:orange}.out-of-stock[_ngcontent-%COMP%]{color:red}.container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.error-message[_ngcontent-%COMP%]{background-color:brown;color:#fff;padding:10px;border-radius:5px}.popup[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;align-items:center;justify-content:center}.show-popup[_ngcontent-%COMP%]{display:flex}.popup-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000004d;text-align:center}.popup-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;background-color:#007bff;color:#fff;border-radius:3px;cursor:pointer;margin-top:10px}.popup-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}ngb-rating[_ngcontent-%COMP%]{color:#ffc107;font-size:30px}"]}),g})()},7077:(O,P,a)=>{a.d(P,{H:()=>_});var o=a(4336),s=a(5879);let _=(()=>{var f;class e{constructor(){this.control=null,this.errors=null,this.errorMessage=""}ngOnChanges(){if(this.errors&&(this.errors.required&&(this.errorMessage="Champ requis"),this.errors.minlength&&(this.errorMessage=" Champs trop court"),this.errors.passwordMismatch&&(this.errorMessage=" Les mots de passes doivent \xeatre identiques"),this.errors.pattern))switch(this.errorMessage="Format incorrect",this.errors.pattern.requiredPattern){case o.O.nameRegex.toString():this.errorMessage="Veuillez saisir un nom/pr\xe9nom avec au moins 2 caract\xe8res, comportant uniquement des lettres";break;case o.O.emailRegex.toString():this.errorMessage="Veuillez saisir une adresse email valide";break;case o.O.phoneNumberRegex.toString():this.errorMessage="Veuillez saisir un num\xe9ro de t\xe9l\xe9phone de 10 chiffres";break;case o.O.passwordRegex.toString():this.errorMessage="Veuillez saisir un mot de passe d'au moins 8 caract\xe8res avec au moins une majuscule, une minuscule et un caract\xe8re sp\xe9cial";break;case o.O.complementaryNumberRegex.toString():this.errorMessage="la valeur peut \xeatre uniquement BIS/TER/QUARTER";break;default:this.errorMessage="Format incorrect"}}}return(f=e).\u0275fac=function(l){return new(l||f)},f.\u0275cmp=s.Xpm({type:f,selectors:[["app-error-message"]],inputs:{control:"control",errors:"errors"},features:[s.TTD],decls:2,vars:1,consts:[[1,"error-message"]],template:function(l,p){1&l&&(s.TgZ(0,"div",0),s._uU(1),s.qZA()),2&l&&(s.xp6(1),s.hij(" ",p.errorMessage,"\n"))},styles:[".error-message[_ngcontent-%COMP%]{color:red;font-size:.9em}"]}),e})()},9110:(O,P,a)=>{a.d(P,{a:()=>h});var o=a(5879),s=a(6223),_=a(6814),f=a(7077);function e(i,m){if(1&i&&o._UZ(0,"textarea",6),2&i){const u=o.oxw();o.s9C("placeholder",u.placeholderInput),o.s9C("id",u.forInput),o.s9C("formControlName",u.forInput)}}function d(i,m){if(1&i&&o._UZ(0,"input",7),2&i){const u=o.oxw();o.s9C("type",u.typeInput),o.s9C("placeholder",u.placeholderInput),o.s9C("id",u.forInput),o.s9C("formControlName",u.forInput),o.Q6J("readonly",u.readonly)}}function l(i,m){if(1&i&&(o.ynx(0),o._UZ(1,"app-error-message",8),o.BQk()),2&i){const u=o.oxw();o.xp6(1),o.Q6J("errors",u.errors)}}const p=["*"];let h=(()=>{var i;class m{constructor(x){this.rootFormGroup=x,this.readonly=!1,this.isTextArea=!1,this.forInput=""}ngOnInit(){this.form=this.rootFormGroup.control}get errors(){return this.form.get(this.forInput)?.errors}checkValidity(){return this.form.get(this.forInput)?.invalid&&(this.form.get(this.forInput)?.touched||this.form.get(this.forInput)?.dirty)}}return(i=m).\u0275fac=function(x){return new(x||i)(o.Y36(s.sg))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-input"]],inputs:{forInput:"forInput",textLabel:"textLabel",typeInput:"typeInput",placeholderInput:"placeholderInput",regex:"regex",readonly:"readonly",isTextArea:"isTextArea"},ngContentSelectors:p,decls:9,vars:6,consts:[[3,"formGroup"],[1,"container"],[3,"for"],[3,"placeholder","id","formControlName",4,"ngIf"],[3,"type","placeholder","id","formControlName","readonly",4,"ngIf"],[4,"ngIf"],[3,"placeholder","id","formControlName"],[3,"type","placeholder","id","formControlName","readonly"],[3,"errors"]],template:function(x,v){1&x&&(o.F$t(),o.ynx(0,0),o.TgZ(1,"div",1)(2,"label",2)(3,"div"),o._uU(4),o.qZA()(),o.YNc(5,e,1,3,"textarea",3),o.YNc(6,d,1,5,"input",4),o.YNc(7,l,2,1,"ng-container",5),o.Hsn(8),o.qZA(),o.BQk()),2&x&&(o.Q6J("formGroup",v.form),o.xp6(2),o.s9C("for",v.forInput),o.xp6(2),o.Oqu(v.textLabel),o.xp6(1),o.Q6J("ngIf",v.isTextArea),o.xp6(1),o.Q6J("ngIf",!v.isTextArea),o.xp6(1),o.Q6J("ngIf",v.checkValidity()))},dependencies:[_.O5,s.Fj,s.JJ,s.JL,s.sg,s.u,f.H],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;position:relative}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff;color:#19647e;position:relative;top:8px;left:15px;padding:0 5px}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:.5px solid #19647e;border-radius:10px;padding:10px 5px}@media (min-width: 1024px){.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:15px 10px}}"]}),m})()}}]);